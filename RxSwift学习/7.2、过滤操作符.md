## è¿‡æ»¤æ“ä½œç¬¦ 
 
 è¿‡æ»¤æ“ä½œæŒ‡çš„æ˜¯ä»æº Observable ä¸­é€‰æ‹©ç‰¹å®šçš„æ•°æ®å‘é€ã€‚
 
 - é€šè¿‡åˆ¤å®šæ¡ä»¶è¿‡æ»¤å‡ºä¸€äº›å…ƒç´ ï¼šfilter
 - ä»…ä»…å‘å‡ºç¬¬å‡ ä¸ªå…ƒç´ ï¼šelementAt
 - è·³è¿‡å¤´å‡ ä¸ªå…ƒç´ 
    - è·³è¿‡å¤´å‡ ä¸ªå…ƒç´ ï¼šskip
    - è·³è¿‡ Observable ä¸­å¤´å‡ ä¸ªå…ƒç´ ï¼Œç›´åˆ°å¦ä¸€ä¸ª Observable å‘å‡ºä¸€ä¸ªå…ƒç´  ï¼šskipUntil
- åªå–å¤´å‡ ä¸ªå…ƒç´ 
    - åªå–å¤´å‡ ä¸ªæ»¡è¶³åˆ¤å®šçš„å…ƒç´ ï¼štakeWhileï¼ŒtakeWhileWithIndex
    - åªå–æŸæ®µæ—¶é—´å†…äº§ç”Ÿçš„å¤´å‡ ä¸ªå…ƒç´ ï¼štake
    - åªå–å¤´å‡ ä¸ªå…ƒç´ ç›´åˆ°å¦ä¸€ä¸ªobservableå‘å‡ºä¸€ä¸ªå…ƒç´ ï¼štakeUntil
     - ä»…ä»…å‘å‡ºå°¾éƒ¨å‡ ä¸ªå…ƒç´ ï¼štakeLast
- å‘¨æœŸæ€§å¯¹observableæŠ½æ ·ï¼šsample
- å‘å‡ºé‚£äº›å…ƒç´ ï¼Œè¿™äº›å…ƒç´ äº§ç”Ÿåçš„ç‰¹å®šæ—¶é—´å†…æ²¡æœ‰æ–°å…ƒç´ äº§ç”Ÿï¼šdebounce
- ç›´åˆ°å…ƒç´ çš„å€¼å‘ç”Ÿå˜åŒ–æ‰å‘å‡ºæ–°çš„å…ƒç´ ï¼šdistinctUntilChanged

 
 
 
 ### 1ã€filter
 è¯¥æ“ä½œç¬¦å°±æ˜¯ç”¨æ¥è¿‡æ»¤æ‰æŸäº›ä¸ç¬¦åˆè¦æ±‚çš„äº‹ä»¶ã€‚
   ![filter](https://github.com/SunshineBrother/JHBlog/blob/master/RxSwiftå­¦ä¹ /rxswiftå›¾ç‰‡/filter1.png)

```
Observable.of(2, 30, 22, 5, 60, 3, 40 ,9)
.filter {
$0 > 10
}
.subscribe(onNext: { print($0) })
.disposed(by: disposeBag)
```

ç»“æœ
```
30
22
60
40

```

### 2ã€elementAt
è¯¥æ–¹æ³•å®ç°åªå¤„ç†åœ¨æŒ‡å®šä½ç½®çš„äº‹ä»¶

  ![elementat](https://github.com/SunshineBrother/JHBlog/blob/master/RxSwiftå­¦ä¹ /rxswiftå›¾ç‰‡/elementat.png)
```
Observable.of("ğŸ±", "ğŸ°", "ğŸ¶", "ğŸ¸", "ğŸ·", "ğŸµ")
.elementAt(2)
.subscribe(onNext: { print($0) })
.disposed(by: disposeBag)
```
æ‰“å°ç»“æœ
```
ğŸ¶
```

### 3.1ã€skip
è·³è¿‡Observableçš„å¤´å‡ ä¸ªå…ƒç´ 
  ![skip](https://github.com/SunshineBrother/JHBlog/blob/master/RxSwiftå­¦ä¹ /rxswiftå›¾ç‰‡/skip.png)

```
Observable.of("ğŸ±", "ğŸ°", "ğŸ¶", "ğŸ¸", "ğŸ·", "ğŸµ")
.skip(2)
.subscribe(onNext: { print($0) })
.disposed(by: disposeBag)
```
æ‰“å°ç»“æœ
```
ğŸ¶
ğŸ¸
ğŸ·
ğŸµ

```

### 3.2ã€skipUntil
è·³è¿‡observableä¸­å¤´å‡ ä¸ªå…ƒç´ ï¼Œç›´åˆ°å¦ä¸€ä¸ªobservableå‘å‡ºç¬¬ä¸€ä¸ªå…ƒç´ 

  ![skipUntil](https://github.com/SunshineBrother/JHBlog/blob/master/RxSwiftå­¦ä¹ /rxswiftå›¾ç‰‡/skipUntil.png)


```
let sourceSequence1 = PublishSubject<Any>()
let referenceSequence1 = PublishSubject<Any>()

sourceSequence1

.skipUntil(referenceSequence1)

.subscribe(onNext: { print($0,"->skipUntil") })

.disposed(by: disposeBag)

sourceSequence1.onNext("ğŸ±")

sourceSequence1.onNext("ğŸ°")

sourceSequence1.onNext("ğŸ¶")

referenceSequence1.onNext("ğŸ”´")

sourceSequence1.onNext("ğŸ¸")

sourceSequence1.onNext("ğŸ·")

sourceSequence1.onNext("ğŸµ")
```


æ‰“å°ç»“æœ
```
ğŸ¸ ->skipUntil
ğŸ· ->skipUntil
ğŸµ ->skipUntil

```

### take

ä»…ä»…ä»observableä¸­å‘å‡ºå¤´nä¸ªå…ƒç´ 
  ![take](https://github.com/SunshineBrother/JHBlog/blob/master/RxSwiftå­¦ä¹ /rxswiftå›¾ç‰‡/take.png)

```
Observable.of("1","2","3","4","5")
.take(2)
.subscribe(onNext: {print($0)})
.disposed(by: disposeBag)
```

æ‰“å°ç»“æœ
```
1
2
```

### takeLast

ä»…ä»…ä»observableä¸­å‘å‡ºå°¾éƒ¨çš„nä¸ªå…ƒç´ 

  ![takeLast](https://github.com/SunshineBrother/JHBlog/blob/master/RxSwiftå­¦ä¹ /rxswiftå›¾ç‰‡/takeLast.png)


### takeUntil

é™¤äº†è®¢é˜…æº Observable å¤–ï¼Œé€šè¿‡ takeUntil æ–¹æ³•æˆ‘ä»¬è¿˜å¯ä»¥ç›‘è§†å¦å¤–ä¸€ä¸ª Observableï¼Œ å³ notifier

å¦‚æœ notifier å‘å‡ºå€¼æˆ– complete é€šçŸ¥ï¼Œé‚£ä¹ˆæº Observable ä¾¿è‡ªåŠ¨å®Œæˆï¼Œåœæ­¢å‘é€äº‹ä»¶ã€‚

  ![takeUntil](https://github.com/SunshineBrother/JHBlog/blob/master/RxSwiftå­¦ä¹ /rxswiftå›¾ç‰‡/takeUntil1.png)
```
let disposeBag = DisposeBag()

let source = PublishSubject<String>()
let notifier = PublishSubject<String>()

source
.takeUntil(notifier)
.subscribe(onNext: { print($0) })
.disposed(by: disposeBag)

source.onNext("1")
source.onNext("2")


//åœæ­¢æ¥æ”¶æ¶ˆæ¯
notifier.onNext("0")

source.onNext("3")
source.onNext("4")
```

æ‰“å°ç»“æœ
```
1
2
```
### takeWhile

è¯¥æ–¹æ³•ä¾æ¬¡åˆ¤æ–­ Observable åºåˆ—çš„æ¯ä¸€ä¸ªå€¼æ˜¯å¦æ»¡è¶³ç»™å®šçš„æ¡ä»¶ã€‚ å½“ç¬¬ä¸€ä¸ªä¸æ»¡è¶³æ¡ä»¶çš„å€¼å‡ºç°æ—¶ï¼Œå®ƒä¾¿è‡ªåŠ¨å®Œæˆã€‚

  ![takeWhile](https://github.com/SunshineBrother/JHBlog/blob/master/RxSwiftå­¦ä¹ /rxswiftå›¾ç‰‡/takeWhile.png)


```
Observable.of(2, 3, 4, 5, 6)
.takeWhile { $0 < 4 }
.subscribe(onNext: { print($0) })
.disposed(by: disposeBag)
```
æ‰“å°ç»“æœ
```
2
3
```


### sample

Sample é™¤äº†è®¢é˜…æº Observable å¤–ï¼Œè¿˜å¯ä»¥ç›‘è§†å¦å¤–ä¸€ä¸ª Observableï¼Œ å³ notifier ã€‚

æ¯å½“æ”¶åˆ° notifier äº‹ä»¶ï¼Œå°±ä¼šä»æºåºåˆ—å–ä¸€ä¸ªæœ€æ–°çš„äº‹ä»¶å¹¶å‘é€ã€‚è€Œå¦‚æœä¸¤æ¬¡ notifier äº‹ä»¶ä¹‹é—´æ²¡æœ‰æºåºåˆ—çš„äº‹ä»¶ï¼Œåˆ™ä¸å‘é€å€¼ã€‚


  ![Sample](https://github.com/SunshineBrother/JHBlog/blob/master/RxSwiftå­¦ä¹ /rxswiftå›¾ç‰‡/sample.png)

```
let source = PublishSubject<Int>()
let notifier = PublishSubject<String>()
source
.sample(notifier)
.subscribe(onNext: { print($0) })
.disposed(by: disposeBag)
source.onNext(1)
//è®©æºåºåˆ—æ¥æ”¶æ¥æ”¶æ¶ˆæ¯
notifier.onNext("A")
source.onNext(2)
//è®©æºåºåˆ—æ¥æ”¶æ¥æ”¶æ¶ˆæ¯
notifier.onNext("B")
notifier.onNext("C")
source.onNext(3)
source.onNext(4)
//è®©æºåºåˆ—æ¥æ”¶æ¥æ”¶æ¶ˆæ¯
notifier.onNext("D")
source.onNext(5)
source.onNext(6)
//è®©æºåºåˆ—æ¥æ”¶æ¥æ”¶æ¶ˆæ¯
notifier.onCompleted()
```
æ‰“å°ç»“æœ
```
1
2
4
6

```


### debounce

debounce æ“ä½œç¬¦å¯ä»¥ç”¨æ¥è¿‡æ»¤æ‰é«˜é¢‘äº§ç”Ÿçš„å…ƒç´ ï¼Œå®ƒåªä¼šå‘å‡ºè¿™ç§å…ƒç´ ï¼šè¯¥å…ƒç´ äº§ç”Ÿåï¼Œä¸€æ®µæ—¶é—´å†…æ²¡æœ‰æ–°å…ƒç´ äº§ç”Ÿã€‚
æ¢å¥è¯è¯´å°±æ˜¯ï¼Œé˜Ÿåˆ—ä¸­çš„å…ƒç´ å¦‚æœå’Œä¸‹ä¸€ä¸ªå…ƒç´ çš„é—´éš”å°äºäº†æŒ‡å®šçš„æ—¶é—´é—´éš”ï¼Œé‚£ä¹ˆè¿™ä¸ªå…ƒç´ å°†è¢«è¿‡æ»¤æ‰ã€‚
debounce å¸¸ç”¨åœ¨ç”¨æˆ·è¾“å…¥çš„æ—¶å€™ï¼Œä¸éœ€è¦æ¯ä¸ªå­—æ¯æ•²è¿›å»éƒ½å‘é€ä¸€ä¸ªäº‹ä»¶ï¼Œè€Œæ˜¯ç¨ç­‰ä¸€ä¸‹å–æœ€åä¸€ä¸ªäº‹ä»¶ã€‚

 ![debounce](https://github.com/SunshineBrother/JHBlog/blob/master/RxSwiftå­¦ä¹ /rxswiftå›¾ç‰‡/debounce.png)

```
//å®šä¹‰å¥½æ¯ä¸ªäº‹ä»¶é‡Œçš„å€¼ä»¥åŠå‘é€çš„æ—¶é—´
let times = [
[ "value": 1, "time": 0.1 ],
[ "value": 2, "time": 1.1 ],
[ "value": 3, "time": 1.2 ],
[ "value": 4, "time": 1.2 ],
[ "value": 5, "time": 1.4 ],
[ "value": 6, "time": 2.1 ]
]

//ç”Ÿæˆå¯¹åº”çš„ Observable åºåˆ—å¹¶è®¢é˜…
Observable.from(times)
.flatMap { item in
return Observable.of(Int(item["value"]!))
.delaySubscription(Double(item["time"]!),
scheduler: MainScheduler.instance)
}
.debounce(0.5, scheduler: MainScheduler.instance) //åªå‘å‡ºä¸ä¸‹ä¸€ä¸ªé—´éš”è¶…è¿‡0.5ç§’çš„å…ƒç´ 
.subscribe(onNext: { print($0) })
.disposed(by: disposeBag)

}
```
æ‰“å°ç»“æœ
```
1
2
4
6
```
### distinctUntilChanged
é˜»æ­¢observableå‘å‡ºç›¸åŒçš„å…ƒç´ ï¼Œå¦‚æœå‰ä¸€ä¸ªå…ƒç´ å’Œåä¸€ä¸ªå…ƒç´ æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆè¿™ä¸ªå…ƒç´ å°†ä¸ä¼šè¢«å‘å‡ºæ¥ï¼Œä»…ä»…åˆ¤æ–­ç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ 

```
Observable.of("1","2","1","1","2","2","0")
.distinctUntilChanged()
.subscribe(onNext: {print($0)})
.disposed(by: disposeBag)
```


æ‰“å°ç»“æœ
```
1
2
1
2
0

```



















